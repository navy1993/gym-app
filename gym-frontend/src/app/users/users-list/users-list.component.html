<section class="page users-list">
  <header class="page-header">
    <h1>Members</h1>
    <button mat-raised-button color="primary" (click)="newUser()">
      Add Member
    </button>
  </header>

  <div *ngIf="loading" class="muted">Loading members...</div>

  <div class="table-wrapper" *ngIf="!loading && users.length">
  <table class="table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Phone</th>
        <th>Email</th>
        <th>WhatsApp</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let u of users">
        <td>{{ u.name }}</td>
        <td>{{ u.phone }}</td>
        <td>{{ u.email || '-' }}</td>
        <td>{{ u.whatsappOptIn ? 'Yes' : 'No' }}</td>
        <td class="actions">
          <button mat-button color="primary" (click)="edit(u)">Edit</button>
          <button mat-button color="warn" (click)="remove(u)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
  </div>

  <div *ngIf="!loading && !users.length" class="muted">
    No members yet.
  </div>
</section>
